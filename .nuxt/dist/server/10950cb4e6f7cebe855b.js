exports.ids=[2],exports.modules={81:function(e,t,o){"use strict";o.r(t);var r={page:"admin/securityRoles",app:"admin",components:{},data:()=>({items:[],fields:[{key:"srName",label:"Security Role Name",sortable:!0},{key:"createdAt",label:"Date Create",sortable:!0},{key:"updatedAt",label:"Last Modified",sortable:!0},{key:"actions",label:"Actions"}],totalRows:1,currentPage:1,perPage:15,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],securityRole:{srName:"",createdAt:"",updatedAt:"",canCreateUsers:!1,canActivateUsers:!1,canModifyUsers:!1,canDeleteUsers:!1,canCreateContacts:!1,canModifyContacts:!1,canDeleteContacts:!1,protectFromDeletion:!1},submittedPermissions:"",infoModal:{id:"info-modal",title:"",content:"",editMode:!1}}),computed:{sortOptions(){return this.fields.filter(e=>e.sortable).map(e=>({text:e.label,value:e.key}))}},created(){this.$axios.get("/securityRole").then(e=>{console.log(e.data.securityRoles),this.items=e.data.securityRoles,this.totalRows=this.items.length}).catch(e=>console.log(e))},methods:{checkFormValidity(){return this.$refs.form.checkValidity()},handleOk(e){e.preventDefault(),this.handleSubmit()},handleSubmit(){this.checkFormValidity()&&(this.$axios.post("/securityRole",this.securityRole).then(e=>{console.log(e),this.items=e.data.securityRoles,this.totalRows=this.items.length,this.resetInfoModal()}).catch(e=>console.log(e)),this.$nextTick(()=>{this.$refs.infoModal.hide()}))},info(e,t,button){this.infoModal.editMode=!1,this.securityRole.srName=e.srName,this.securityRole.createdAt=e.createdAt,this.securityRole.updatedAt=e.updatedAt,this.securityRole.canActivateUsers=e.canActivateUsers,this.securityRole.canCreateContacts=e.canCreateContacts,this.securityRole.canCreateUsers=e.canCreateUsers,this.securityRole.canDeleteContacts=e.canDeleteContacts,this.securityRole.canDeleteUsers=e.canDeleteUsers,this.securityRole.canModifyContacts=e.canModifyContacts,this.securityRole.canModifyUsers=e.canModifyUsers,this.securityRole.protectFromDeletion=e.protectFromDeletion,this.$root.$emit("bv::show::modal",this.infoModal.id,button)},addNew(){this.$refs.infoModal.show(),this.infoModal.editMode=!1,this.infoModal.title="New Security Role"},resetInfoModal(){this.securityRole.srName="",this.securityRole.createdAt="",this.securityRole.updatedAt="",this.securityRole.canActivateUsers="",this.securityRole.canCreateContacts="",this.securityRole.canCreateUsers="",this.securityRole.canDeleteContacts="",this.securityRole.canDeleteUsers="",this.securityRole.canModifyContacts="",this.securityRole.canModifyUsers="",this.securityRole.protectFromDeletion=""},onFiltered(e){this.totalRows=e.length,this.currentPage=1}}},l=o(1),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content-container"},[e._ssrNode('<div class="content-right">',"</div>",[o("b-card",{attrs:{header:"Security Roles","header-tag":"header"},scopedSlots:e._u([{key:"footer",fn:function(){return[o("b-container",[o("b-row",[o("b-col",{staticClass:"my-1 mx-auto",attrs:{sm:"7",md:"6"}},[o("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)]},proxy:!0}])},[o("br"),e._v(" "),o("b-row",[o("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Sort","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"sortBySelect"}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:e.sortOptions},scopedSlots:e._u([{key:"first",fn:function(){return[o("option",{attrs:{value:""}},[e._v("-- none --")])]},proxy:!0}]),model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}),e._v(" "),o("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!e.sortBy},model:{value:e.sortDesc,callback:function(t){e.sortDesc=t},expression:"sortDesc"}},[o("option",{domProps:{value:!1}},[e._v("Asc")]),e._v(" "),o("option",{domProps:{value:!0}},[e._v("Desc")])])],1)],1)],1),e._v(" "),o("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),o("b-input-group-append",[o("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1),e._v(" "),o("b-col",{staticClass:"my-1",attrs:{lg:"4"}},[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Add","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"AddNewSecurityRole"}},[o("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:e.addNew}},[e._v("New Security Role\n\n            ")])],1)],1)],1),e._v(" "),o("br"),e._v(" "),o("b-table",{attrs:{"show-empty":"",small:"",stacked:"md",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,filterIncludedFields:e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v("\n          "+e._s(t.value.name)+"\n        ")]}},{key:"cell(actions)",fn:function(t){return[o("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.toggleDetails}},[e._v("\n            Details\n          ")]),e._v(" "),o("b-button",{staticClass:"mr-1",attrs:{variant:"warning",size:"sm"},on:{click:function(o){return e.info(t.item,t.index,o.target)}}},[e._v("\n            Edit\n          ")]),e._v(" "),o("b-button",{staticClass:"mr-1",attrs:{variant:"danger",size:"sm"},on:{click:function(o){return e.info(t.item,t.index,o.target)}}},[e._v("\n            Delete\n          ")])]}},{key:"row-details",fn:function(t){return[o("b-card",[o("ul",e._l(t.item,(function(t,r){return o("li",{key:r},[e._v("\n                "+e._s(r)+": "+e._s(t)+"\n              ")])})),0)])]}}])})],1)],1),e._ssrNode(" "),o("b-modal",{ref:"infoModal",attrs:{id:e.infoModal.id,title:e.infoModal.title},on:{ok:e.handleOk}},[e.infoModal.editMode?e._e():o("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[o("b-form-group",{attrs:{label:"Security Role Name","label-for":"name-input","invalid-feedback":"Name is required"}},[o("b-form-input",{attrs:{required:""},model:{value:e.securityRole.srName,callback:function(t){e.$set(e.securityRole,"srName",t)},expression:"securityRole.srName"}})],1),e._v(" "),o("b-form-group",{attrs:{label:"Role Permissions"}},[o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canCreateUsers,callback:function(t){e.$set(e.securityRole,"canCreateUsers",t)},expression:"securityRole.canCreateUsers"}},[e._v("Create User")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canActivateUsers,callback:function(t){e.$set(e.securityRole,"canActivateUsers",t)},expression:"securityRole.canActivateUsers"}},[e._v("Activate Users")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canModifyUsers,callback:function(t){e.$set(e.securityRole,"canModifyUsers",t)},expression:"securityRole.canModifyUsers"}},[e._v("Modify Users")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canDeleteUsers,callback:function(t){e.$set(e.securityRole,"canDeleteUsers",t)},expression:"securityRole.canDeleteUsers"}},[e._v("Delete Users")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.protectFromDeletion,callback:function(t){e.$set(e.securityRole,"protectFromDeletion",t)},expression:"securityRole.protectFromDeletion"}},[e._v("Protect this User From Deletion")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canCreateContacts,callback:function(t){e.$set(e.securityRole,"canCreateContacts",t)},expression:"securityRole.canCreateContacts"}},[e._v("Create Contacts")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canModifyContacts,callback:function(t){e.$set(e.securityRole,"canModifyContacts",t)},expression:"securityRole.canModifyContacts"}},[e._v("Modify Contacts")]),e._v(" "),o("b-form-checkbox",{attrs:{switch:"",size:"lg"},model:{value:e.securityRole.canDeleteContacts,callback:function(t){e.$set(e.securityRole,"canDeleteContacts",t)},expression:"securityRole.canDeleteContacts"}},[e._v("Delete Contacts")])],1)],1),e._v(" "),o("pre",[e._v(e._s(e.infoModal.content))])])],2)}),[],!1,null,null,"8e7f737e");t.default=component.exports}};